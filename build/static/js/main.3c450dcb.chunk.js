(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){e.exports={SessionInfo:"SessionInfo__SessionInfo__MTUTv",FaceImg:"SessionInfo__FaceImg__3JPdS"}},103:function(e,t,n){e.exports={SideDrawer:"SideDrawer__SideDrawer__3wvlM",Open:"SideDrawer__Open__3xsf8",Close:"SideDrawer__Close__2S6c7",Logo:"SideDrawer__Logo__10IHv"}},154:function(e,t,n){e.exports={NewSession:"NewSession__NewSession__27xtK",Content:"NewSession__Content__3f4Bt"}},155:function(e,t,n){e.exports={Loader:"Spinner__Loader__3dgUo",load2:"Spinner__load2__1sg5x",SpinneBox:"Spinner__SpinneBox__4B7ib",CircleBorder:"Spinner__CircleBorder__gPKfi",spin:"Spinner__spin__1Qxb9",CircleCore:"Spinner__CircleCore__3MFCu","configure-clockwise":"Spinner__configure-clockwise__1FGGS","configure-xclockwise":"Spinner__configure-xclockwise__3KcXB",pulse:"Spinner__pulse__3YKQ6"}},229:function(e,t,n){e.exports={Toolbar:"Toolbar__Toolbar__2hkfg",Logo:"Toolbar__Logo__24rue",DesktopOnly:"Toolbar__DesktopOnly__15Sc_"}},230:function(e,t,n){e.exports={NavigationItem:"NavigationItem__NavigationItem__3YSjr",active:"NavigationItem__active__2GQz1"}},231:function(e,t,n){e.exports={Button:"Button__Button__ajevi",Success:"Button__Success__1DMln",Danger:"Button__Danger__18hYt"}},232:function(e,t,n){},375:function(e,t,n){e.exports={Content:"Layout__Content__3KSp3"}},376:function(e,t,n){e.exports=n.p+"static/media/logo.39bc7bcb.bmp"},377:function(e,t,n){e.exports={Logo:"Logo__Logo__2A07e"}},378:function(e,t,n){e.exports={NavigationItems:"NavigationItems__NavigationItems__3HY9i"}},379:function(e,t,n){e.exports={DrawerToggle:"DrawerToggle__DrawerToggle__1eThf"}},380:function(e,t,n){e.exports={Backdrop:"Backdrop__Backdrop__eeZpu"}},381:function(e,t,n){e.exports={Loginn:"LogIn__Loginn__xbRYO"}},382:function(e,t,n){},388:function(e,t,n){e.exports=n(832)},39:function(e,t,n){e.exports={SessionView:"SessionView__SessionView__3A4in",Time:"SessionView__Time__1jWnG",Info:"SessionView__Info__2zIOa",Title:"SessionView__Title__sXVeY",Instructor:"SessionView__Instructor__10lhf",Players:"SessionView__Players__2p210",Avatars:"SessionView__Avatars__2nvxK",FaceImg:"SessionView__FaceImg__1b7B3",Button:"SessionView__Button__12tkH",Book:"SessionView__Book__2eKuO",Cancel:"SessionView__Cancel__3qaFQ"}},393:function(e,t,n){},395:function(e,t,n){e.exports={App:"App__App__3t9oX","App-logo":"App__App-logo__DAe5h","App-logo-spin":"App__App-logo-spin__Xlw7n","App-header":"App__App-header__UYaud","App-link":"App__App-link__3ACRH"}},569:function(e,t,n){e.exports={Button:"bookButton__Button__xrU9v",Book:"bookButton__Book__2Ax8T",Cancel:"bookButton__Cancel__2kU7z"}},82:function(e,t,n){e.exports={Input:"Input__Input__1VROp",Label:"Input__Label__1tOSX",InputElement:"Input__InputElement__3TB0k",Invalid:"Input__Invalid__38X2d",ValidationError:"Input__ValidationError__ukId8"}},832:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"addNewSession",function(){return O}),n.d(a,"removeSession",function(){return S}),n.d(a,"signToSession",function(){return C}),n.d(a,"removeFromSession",function(){return j}),n.d(a,"toggleSessiomInfo",function(){return N}),n.d(a,"toggleDialogShare",function(){return k}),n.d(a,"toggleSignOutDialog",function(){return w}),n.d(a,"booked",function(){return I}),n.d(a,"signIn",function(){return L}),n.d(a,"signUp",function(){return A}),n.d(a,"logout",function(){return T});var r=n(1),o=n.n(r),i=n(36),l=n.n(i),s=(n(393),n(13)),c=n(14),u=n(16),d=n(15),p=n(17),m=(n(395),n(5)),g=n(10),h=n(7),f=n(27),v=n(365),_=n.n(v).a.create({baseURL:"https://play-e37a6.firebaseio.com/"}),b=n(99),E=n.n(b),y=n(366),O=function(e){return function(t,n,a){(0,a.getFirestore)().collection("sessionList").add(e).then(function(){t({type:"ADD_NEW_SESSION"})}).catch(function(e){t({type:"ADD_NEW_SESSION_ERROR"},e)})}},S=function(e){return function(t,n,a){(0,a.getFirestore)().collection("sessionList").doc(e.id).delete().then(function(){console.log("Document successfully deleted!"),t({type:"DELETE"})}).catch(function(e){console.error("Error removing document: ",e)})}},C=function(e,t){return function(n,a,r){(0,r.getFirestore)().collection("sessionList").doc(e.id).set(Object(m.a)({},e,{players:t})).then(function(){console.log("Player successfully sign to class!"),n({type:"UPDATE_PLAYERS_IN_SESSION"})}).catch(function(e){console.error("Error signning to class: ",e)})}},j=function(e,t){return function(){var n=Object(y.a)(E.a.mark(function n(a,r,o){var i,l;return E.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=o.getFirestore,n.prev=1,l=i(),n.next=5,l.collection("sessionList").doc(e.id).update({players:t});case 5:console.log("Player successfully removed from class!"),a({type:"REMOVE_PLAYER_FROM_SESSION",session:e}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.error("Error removing from class: ",n.t0);case 12:case"end":return n.stop()}},n,this,[[1,9]])}));return function(e,t,a){return n.apply(this,arguments)}}()},N=function(e){return function(t){t({type:"TOGGLE_INFO",payload:e})}},k=function(e){return function(t){t({type:"SHARE_DIALOG_OPEN",payload:e})}},w=function(e){return console.log("toggleSignOutDialog",e),function(t){t({type:"SIGN_OUT_DIALOG_OPEN",payload:e})}},I=function(e){return function(e){e({type:"BOOKED"})}},L=function(e){return function(t,n,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then(function(){t({type:"LOGIN_SUCCESS"})}).catch(function(e){t({type:"LOGIN_ERROR",err:e})})}},A=function(e){return function(t,n,a){var r=a.getFirebase,o=a.getFirestore,i=r(),l=o();i.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return l.collection("users").doc(t.user.uid).set({type:"player",firstName:e.firstName,lastName:e.lastName,phone:e.phone,birthDay:e.birthDay,photoURL:e.photoURL})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}},T=function(){return function(e,t,n){(0,n.getFirebase)().auth().signOut().then(function(){e({type:"SIGN_OUT"})})}},R=n(841),D=n(39),x=n.n(D);n(569);var U=Object(g.b)(function(e){return{}},function(e){return Object(m.a)({},Object(h.bindActionCreators)(a,e))})(function(e){return o.a.createElement("button",{onClick:function(){return e.clicked(e.clickedSession)},className:e.classN},e.title)});var B=Object(h.compose)(Object(g.b)(function(e){return{toggle:e.sessionReducer.sessionInfoToggle,shareDialogOpen:e.sessionReducer.shareDialogOpen,btnToggle:e.sessionReducer.booked,auth:e.firebaseReducer.auth,user:e.firebaseReducer.profile}},function(e){return Object(m.a)({},Object(h.bindActionCreators)(a,e))}),Object(f.firestoreConnect)([{collection:"sessionList"}]))(function(e){var t=!1,n=function(){var t=e.session.players.concat([{firstName:e.user.firstName,lastName:e.user.lastName,photoURL:e.user.photoURL,uid:e.auth.uid}]);e.signToSession(e.session,t)},a=e.session.players;a.map(function(r){t=e.auth.uid===r.uid?o.a.createElement(U,{clicked:e.toggleSignOutDialog,classN:x.a.Cancel,title:"CANCEL",clickedSession:e.session}):a.length>=e.session.maxPlayers?o.a.createElement(U,{clicked:function(){return null},classN:x.a.Cancel,title:"FULL",disabled:!0}):o.a.createElement(U,{clicked:n,classN:x.a.Book,title:"BOOK"})}),e.auth.uid||(t=o.a.createElement(R.a,{to:"/login"},o.a.createElement(U,{classN:x.a.Book,clicked:function(){return null},title:"BOOK"})));return o.a.createElement("div",{className:x.a.SessionView},o.a.createElement("div",{className:x.a.Time},o.a.createElement("div",null,e.session.time),o.a.createElement("div",null,e.session.endTime)),o.a.createElement("div",{className:x.a.Info,onClick:function(){return e.toggleSessiomInfo(e.session)}},o.a.createElement("p",{className:x.a.Title},e.session.title),o.a.createElement("p",null,e.session.location)),o.a.createElement("div",{className:x.a.Players,onClick:function(){return e.toggleSessiomInfo(e.session)}},o.a.createElement("p",null,e.session.players.length,"\\",e.session.maxPlayers),o.a.createElement("div",{className:x.a.Avatars},a.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("img",{alt:"",className:x.a.FaceImg,src:e.photoURL}))}))),o.a.createElement("div",{className:x.a.Button},t))}),F=n(81),V=n(100),P=n(28),H=n(147),z=n(367),G=n.n(z),q=n(368),Y=n.n(q);var K=Object(H.withStyles)(function(e){return{fab:{margin:e.spacing.unit},extendedIcon:{marginRight:e.spacing.unit}}})(function(e){var t=e.classes;return o.a.createElement("div",null,o.a.createElement(G.a,{color:"primary","aria-label":"Add",className:t.fab},o.a.createElement(Y.a,{onClick:e.clicked})))}),M=n(154),W=n.n(M),$=n(82),X=n.n($),J=function(e){var t=null,n=[X.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(X.a.Invalid),e.elementType){case"input":t=o.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=o.a.createElement("textarea",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=o.a.createElement("select",{className:n.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map(function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.displayValue)}));break;default:t=o.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value}))}var a=null;return e.invalid&&e.touched&&(a=o.a.createElement("p",{className:X.a.ValidationError},"Please enter a valid ",e.elementType)),o.a.createElement("div",{className:X.a.Input},o.a.createElement("label",{className:X.a.Label},e.label),t,a)},Q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).inputChangedHandler=function(e,t){var a=Object(m.a)({},n.state.fields,Object(F.a)({},t,Object(m.a)({},n.state.fields[t],{value:e.target.value,valid:n.checkValidity(e.target.value,n.state.fields[t].validation),touched:!0})));n.setState({fields:a})},n.titleHandler=function(e){n.setState({title:e.target.value})},n.state={modal:!1,date:null,time:null,details:null,endTime:null,title:null,location:null,minPlayers:1,maxPlayers:1,fields:{title:{elementType:"input",elementConfig:{type:"text",placeholder:"Title"},value:"",validation:{required:!0,minLength:2},valid:!1,touched:!1},date:{elementType:"input",elementConfig:{type:"date",placeholder:"Date"},value:"",validation:{required:!0},valid:!1,touched:!1},time:{elementType:"input",elementConfig:{type:"time",placeholder:"start time"},value:"",validation:{required:!0},valid:!1,touched:!1},endTime:{elementType:"input",elementConfig:{type:"time",placeholder:"end time"},value:"",validation:{required:!0},valid:!1,touched:!1},details:{elementType:"textarea",elementConfig:{type:"textarea",placeholder:"Details"},value:"",validation:{required:!0},valid:!1,touched:!1},location:{elementType:"input",elementConfig:{type:"text",placeholder:"Location"},value:"",validation:{required:!0,minLength:2},valid:!1,touched:!1},minPlayers:{elementType:"input",elementConfig:{type:"number",placeholder:"minimun players"},value:1,validation:{required:!0,isNumeric:!0},valid:!1,touched:!1},maxPlayers:{elementType:"input",elementConfig:{type:"number",placeholder:"maximun players"},value:1,validation:{required:!0,isNumeric:!0},valid:!1,touched:!1}}},n.toggle=n.toggle.bind(Object(V.a)(Object(V.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"checkValidity",value:function(e,t){var n=!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLengh&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n}},{key:"handleAdd",value:function(){this.toggle();var e;e={date:this.state.fields.date.value,time:this.state.fields.time.value,endTime:this.state.fields.endTime.value,title:this.state.fields.title.value,details:this.state.fields.details.value,location:this.state.fields.location.value,players:[{firstName:this.props.user.firstName,uid:this.props.auth.uid,lastName:this.props.user.lastName,photoURL:this.props.user.photoURL}],created:new Date,createdBy:{firstName:this.props.user.firstName,uid:this.props.auth.uid,lastName:this.props.user.lastName,photoURL:this.props.user.photoURL},minPlayers:this.state.fields.minPlayers.value,maxPlayers:this.state.fields.maxPlayers.value},this.props.handleNewSession(e)}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.fields)t.push({id:n,config:this.state.fields[n]});var a=t.map(function(t){return o.a.createElement(J,{className:W.a.NewSession,key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(n){return e.inputChangedHandler(n,t.id)}})}),r=null;return r=this.props.auth.uid?o.a.createElement(K,{clicked:this.toggle}):o.a.createElement(R.a,{to:"/login"},o.a.createElement(K,null)),o.a.createElement("div",null,r,o.a.createElement(P.b,{isOpen:this.state.modal,toggle:this.toggle,className:W.a.NewSession},o.a.createElement(P.e,{toggle:this.toggle},"Add new Class"),o.a.createElement(P.c,{className:W.a.Content},o.a.createElement("form",{onSubmit:this.handleAdd.bind(this)},a,o.a.createElement("div",null,o.a.createElement(P.a,null,"Add")))),o.a.createElement(P.d,null,o.a.createElement(P.a,{color:"primary",onClick:this.handleAdd.bind(this)},"ADD"),o.a.createElement(P.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(o.a.Component),Z=n(102),ee=n.n(Z),te=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handelRemoveSession=function(e){n.props.toggleSessiomInfo(),n.props.removeSession(e)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.session.createdBy?this.props.session:{createdBy:{},players:[]};return o.a.createElement("div",null,o.a.createElement(P.b,{isOpen:this.props.toggle},o.a.createElement(P.e,{toggle:function(){return e.props.toggleSessiomInfo({})}},t.title),o.a.createElement(P.c,{className:ee.a.SessionInfo},o.a.createElement("p",null,"Craeted By: ",t.createdBy.firstName+"  "+t.createdBy.lastName," "),o.a.createElement("p",null,"on "),o.a.createElement("img",{alt:"",className:ee.a.FaceImg,src:t.createdBy.photoURL}),o.a.createElement("p",null,t.details),o.a.createElement("div",{className:ee.a.Players},t.players.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("img",{alt:"",className:ee.a.FaceImg,src:e.photoURL}))}))),o.a.createElement(P.d,null,o.a.createElement(P.a,{color:"secondary",onClick:function(){return e.props.booked}},"BOOK"),o.a.createElement(P.a,{color:"secondary",onClick:function(){return e.props.toggleSessiomInfo(e.props.session)}},"EDIT"),o.a.createElement(P.a,{color:"secondary",onClick:function(){return e.handelRemoveSession(e.props.session)}},"DELETE"))))}}]),t}(o.a.Component);var ne=Object(h.compose)(Object(g.b)(function(e,t){return{toggle:e.sessionReducer.sessionInfoToggle,session:e.sessionReducer.session}},function(e){return Object(m.a)({},Object(h.bindActionCreators)(a,e))}),Object(f.firestoreConnect)([{collection:"sessionList"}]))(te),ae=n(155),re=n.n(ae),oe=function(){return o.a.createElement("div",{className:re.a.SpinneBox},o.a.createElement("div",{className:re.a.CircleBorder},o.a.createElement("div",{className:re.a.CircleCore})))},ie=n(52),le=n.n(ie),se=n(148),ce=n.n(se),ue=n(151),de=n.n(ue),pe=n(150),me=n.n(pe),ge=n(149),he=n.n(ge),fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleClickYes=function(e){console.log("handleClickYes",n.props.session),1===n.props.session.players.length?(n.props.removeSession(n.props.session),n.props.toggleSignOutDialog(n.props.session)):(n.removeFromSessionHandler(),n.props.toggleSignOutDialog(n.props.session))},n.handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n.removeFromSessionHandler=function(){console.log("session",n.props.session.players);var e=n.props.session.players.filter(function(e){return e.uid!==n.props.auth.uid});console.log("players",e),n.props.removeFromSession(n.props.session,e)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(ce.a,{open:this.props.signOutDialogOpen,onClose:function(){return e.props.toggleSignOutDialog(e.props.session)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(he.a,{id:"alert-dialog-title"},"message"),o.a.createElement(me.a,null),o.a.createElement(de.a,null,o.a.createElement(le.a,{onClick:function(){return e.props.toggleSignOutDialog({session:{}})},color:"primary"},"NO"),o.a.createElement(le.a,{onClick:this.handleClickYes,color:"primary",autoFocus:!0},"YES"))))}}]),t}(o.a.Component);var ve=Object(g.b)(function(e){return{signOutDialogOpen:e.sessionReducer.signOutDialogOpen,auth:e.firebaseReducer.auth,session:e.sessionReducer.session}},function(e){return Object(m.a)({},Object(h.bindActionCreators)(a,e))})(fe),_e=n(224),be=n.n(_e),Ee=n(836),ye=n(839);var Oe=Object(h.compose)(Object(g.b)(function(e){return{sessionList:e.firestoreReducer.ordered.sessionList,user:e.firebaseReducer.profile,auth:e.firebaseReducer.auth}},function(e){return Object(m.a)({},Object(h.bindActionCreators)(a,e))}),Object(f.firestoreConnect)([{collection:"sessionList"}]))(function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ee.a,{title:"try",url:e.urll},o.a.createElement(ye.a,{round:!0})))}),Se=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(le.a,{variant:"outlined",color:"primary",onClick:this.props.toggleDialogShare},"Open alert dialog"),o.a.createElement(ce.a,{open:this.props.shareDialogOpen,onClose:this.props.toggleDialogShare,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(he.a,{id:"alert-dialog-title"},"Invite friends to play with you"),o.a.createElement(me.a,null,o.a.createElement(be.a,{id:"alert-dialog-description"},o.a.createElement(Oe,{urll:"http://localhost:3000/"}))),o.a.createElement(de.a,null,o.a.createElement(le.a,{onClick:this.props.toggleDialogShare,color:"primary"},"Next time"),o.a.createElement(le.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},"Yes"))))}}]),t}(o.a.Component);var Ce=Object(g.b)(function(e){return{shareDialogOpen:e.sessionReducer.shareDialogOpen,auth:e.firebaseReducer.auth,session:e.sessionReducer.session}},function(e){return Object(m.a)({},Object(h.bindActionCreators)(a,e))})(Se),je=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={session:{}},n.handleAdd=function(e){n.props.addNewSession(e)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.sessionList;if(e){var t=e.map(function(e,t){return o.a.createElement(B,{key:e.id,session:e})});return o.a.createElement("div",null,o.a.createElement("h1",null,"Today"),t,o.a.createElement(Ce,null),o.a.createElement(Q,{handleNewSession:this.handleAdd,user:this.props.user,auth:this.props.auth}),o.a.createElement(ne,null),o.a.createElement(ve,null))}return o.a.createElement(oe,null)}}]),t}(r.Component);var Ne=Object(h.compose)(Object(g.b)(function(e){var t=!0,n=!1,a=void 0;try{for(var r,o=(e.firestoreReducer.ordered.sessionList||[])[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.id}catch(i){n=!0,a=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}return{sessionList:e.firestoreReducer.ordered.sessionList,user:e.firebaseReducer.profile,auth:e.firebaseReducer.auth}},function(e){return Object(m.a)({},Object(h.bindActionCreators)(a,e))}),Object(f.firestoreConnect)([{collection:"sessionList"}]))(je,_),ke=n(840),we=n(834),Ie=n(375),Le=n.n(Ie),Ae=n(229),Te=n.n(Ae),Re=n(376),De=n.n(Re),xe=n(377),Ue=n.n(xe),Be=function(e){return o.a.createElement("div",{className:Ue.a.Logo,style:{height:e.height}},o.a.createElement("img",{src:De.a,alt:"MyBurger"}))},Fe=n(230),Ve=n.n(Fe),Pe=function(e){return o.a.createElement("li",{className:Ve.a.NavigationItem},o.a.createElement(R.a,{to:e.link,className:e.active?Ve.a.active:null,onClick:e.closed},e.children))},He=n(378),ze=n.n(He),Ge=Object(g.b)(function(e){return{auth:e.firebaseReducer.auth}},function(e){return{signOut:function(){return e(T())}}})(function(e){var t=e.auth;return o.a.createElement("ul",{className:ze.a.NavigationItems},t.uid?o.a.createElement(Pe,{link:"/account",closed:e.closed},"Welcome ",e.name,"!"):o.a.createElement(Pe,{link:"/login",closed:e.closed},"Log In"),o.a.createElement(Pe,{link:"/",closed:e.closed},"Schedule"),o.a.createElement(Pe,{link:"/contact",closed:e.closed},"Contact Us"),t.uid?o.a.createElement(Pe,{link:"/logout",closed:e.closed},"Loguot"):null)}),qe=n(379),Ye=n.n(qe),Ke=function(e){return o.a.createElement("div",{className:Ye.a.DrawerToggle,onClick:e.clicked},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))},Me=function(e){return o.a.createElement("header",{className:Te.a.Toolbar},o.a.createElement(Ke,{clicked:e.drawerToggleClicked}),o.a.createElement(Be,{height:"80%"}),o.a.createElement("nav",{className:Te.a.DesktopOnly},o.a.createElement(Ge,{isAuth:e.isAuth,name:e.name})))},We=n(103),$e=n.n(We),Xe=n(380),Je=n.n(Xe),Qe=function(e){return e.show?o.a.createElement("div",{className:Je.a.Backdrop,onClick:e.clicked}):null},Ze=function(e){var t=[$e.a.SideDrawer,$e.a.Close];return e.open&&(t=[$e.a.SideDrawer,$e.a.open]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Qe,{show:e.open,clicked:e.closed}),o.a.createElement("div",{className:t.join(" ")},o.a.createElement(Be,{height:"11%"}),o.a.createElement("nav",null,o.a.createElement(Ge,{closed:e.closed,isAuth:e.isAuth,name:e.name}))))},et=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showSideDrawer:!1},n.sideDrawerClosedHandler=function(){n.setState({showSideDrawer:!1})},n.sideDrawerToggleHandler=function(){n.setState(function(e){return{showSideDrawer:!e.showSideDrawer}})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Me,{isAuth:this.props.isAuth,name:this.props.name,drawerToggleClicked:this.sideDrawerToggleHandler}),o.a.createElement(Ze,{isAuth:this.props.isAuth,name:this.props.name,open:this.state.showSideDrawer,closed:this.sideDrawerClosedHandler}),o.a.createElement("main",{className:Le.a.Content},this.props.children))}}]),t}(r.Component),tt=Object(g.b)(function(e){return{isAuth:null!==e.userReducer.token,name:e.firebaseReducer.profile.firstName}})(et),nt=function(e){return o.a.createElement("div",null,"Contact Us")},at=n(838),rt=n(153),ot=n.n(rt),it=n(381),lt=n.n(it),st=n(231),ct=n.n(st),ut=function(e){return o.a.createElement("button",{disabled:e.disabled,className:[ct.a.Button,ct.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},dt={email:{elementType:"input",elementConfig:{type:"email",placeholder:"Email"},validation:{required:!0,isEmail:!0},touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},validation:{required:!0,minLength:6},touched:!1}},pt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={emailValue:"",emailValid:!1,passwordValid:!1,passwordValue:""},n.inputChangedHandler=function(e,t){var a=n.checkValidity(e.target.value,dt[t].validation);console.log("value",a),"email"===t?n.setState({emailValue:e.target.value,emailValid:a}):n.setState({passwordValue:e.target.value,passwordValid:a})},n.submitHandler=function(e){console.log("submitHandler"),e.preventDefault();var t={email:n.state.emailValue,password:n.state.passwordValue,returnSecureToken:!0};n.props.signIn(t)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"checkValidity",value:function(e,t){var n=!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLengh&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n}},{key:"render",value:function(){var e=this,t=[{id:"email",config:dt.email,valid:this.state.emailValid,value:this.state.emailValue},{id:"password",config:dt.password,valid:this.state.passwordValid,value:this.state.passwordValue}];console.log("isAuthenticated ",this.props.isAuthenticated);var n=function(e){console.log(e)},a=t.map(function(t){return o.a.createElement(J,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.value,invalid:!t.valid,shouldValidate:t.config.validation,touched:t.value.length>0,changed:function(n){return e.inputChangedHandler(n,t.id)}})});return this.props.loading&&(a=o.a.createElement(oe,null)),this.props.isAuthenticated?(console.log("HERE"),o.a.createElement(at.a,{to:"/"})):o.a.createElement("div",{className:lt.a.LogIn},o.a.createElement("p",null,this.props.authError),o.a.createElement("form",{onSubmit:this.submitHandler},a,o.a.createElement("div",null,o.a.createElement(ut,{btnType:"Success"},"Sign in"),o.a.createElement("p",null,"New PLAYer? ",o.a.createElement(R.a,{to:"/register"},"Join Us")))),o.a.createElement(ot.a,{clientId:"203139564983-9gd9ebikj3pct8ptmkkt6r2atcf838qu.apps.googleusercontent.com",buttonText:"Login",onSuccess:n,onFailure:n}))}}]),t}(o.a.Component),mt=Object(g.b)(function(e){return{loading:e.userReducer.loading,error:e.userReducer.error,isAuthenticated:void 0!==e.firebaseReducer.auth.uid,authError:e.userReducer.authError}},function(e){return{signIn:function(t){return e(L(t))}}})(pt),gt=n(101),ht=n.n(gt);n(833),n(748),n(753);ht.a.initializeApp({apiKey:"AIzaSyAfxKPiu1Zf876cexkIUr--iLFtMaJFxnc",authDomain:"play-e37a6.firebaseapp.com",databaseURL:"https://play-e37a6.firebaseio.com",projectId:"play-e37a6",storageBucket:"play-e37a6.appspot.com",messagingSenderId:"469320289654"}),ht.a.firestore().settings({timestampsInSnapshots:!0});var ft=ht.a.storage(),vt=n(382),_t=n.n(vt),bt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={alreadyUser:!0,selectedFile:null,controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Email"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1},firstName:{elementType:"input",elementConfig:{type:"text",placeholder:"First Name"},value:"",validation:{required:!0},valid:!1,touched:!1},lastName:{elementType:"input",elementConfig:{type:"text",placeholder:"Last Name"},value:"",validation:{required:!0},valid:!1,touched:!1},phone:{elementType:"input",elementConfig:{type:"tel",placeholder:"Phone"},value:"",validation:{required:!0},valid:!1,touched:!1},gender:[{elementType:"input",elementConfig:{type:"checkbox",name:"gender",value:"male",placeholder:"gender"},value:"",validation:{required:!0},valid:!1,touched:!1},{elementType:"input",elementConfig:{type:"checkbox",name:"gender",value:"female",placeholder:"gender"},value:"",validation:{required:!0},valid:!1,touched:!1}],birthDay:{elementType:"input",elementConfig:{type:"date",placeholder:"BirthDay"},value:"",validation:{required:!0},valid:!1,touched:!1}}},n.fileSelecteHandler=function(e){console.log(e.target.files[0]);var t=e.target.files[0];console.log(t),ft.ref("profile/".concat(t.name)).put(t).on("state_changed",function(e){},function(e){console.log(e)},function(){ft.ref("profile").child(t.name).getDownloadURL().then(function(e){console.log(e),n.setState({selectedFile:e}),console.log(n.state.selectedFile)})})},n.inputChangedHandler=function(e,t){var a=Object(m.a)({},n.state.controls,Object(F.a)({},t,Object(m.a)({},n.state.controls[t],{value:e.target.value,valid:n.checkValidity(e.target.value,n.state.controls[t].validation),touched:!0})));n.setState({controls:a})},n.signUpHandler=function(e){e.preventDefault();var t={email:n.state.controls.email.value,password:n.state.controls.password.value,returnSecureToken:!0,type:"player",firstName:n.state.controls.firstName.value,lastName:n.state.controls.lastName.value,photoURL:n.state.selectedFile?n.state.selectedFile:"https://firebasestorage.googleapis.com/v0/b/play-e37a6.appspot.com/o/profile%20pictures%2FNerd_with_Glasses_Emoji.png?alt=media&token=788fc5d7-e587-4f1d-8eea-a3d2b0c4605a",phone:n.state.controls.phone.value,birthDay:n.state.controls.birthDay.value,gender:n.state.controls.gender.value,created:new Date};n.props.signUp(t)},n.alreadyUserHandler=function(){n.setState({alreadyUser:!n.state.alreadyUser})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"checkValidity",value:function(e,t){var n=!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLengh&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var a=function(e){console.log(e)},r=t.map(function(t){return o.a.createElement(J,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(n){return e.inputChangedHandler(n,t.id)}})});this.props.loading&&(r=o.a.createElement(oe,null));var i=null;return this.props.isAuthenticated&&(i=o.a.createElement(at.a,{to:"/"})),o.a.createElement("div",{className:_t.a.LogIn},i,o.a.createElement("p",null,this.props.authError),o.a.createElement("input",{type:"file",onChange:this.fileSelecteHandler}),o.a.createElement("form",{onSubmit:this.signUpHandler},r,o.a.createElement("div",null,o.a.createElement(ut,{btnType:"Success"},"Sign up"),o.a.createElement("p",null,"Already PLAYer? ",o.a.createElement(R.a,{to:"/login"},"Sign in")))),o.a.createElement(ot.a,{clientId:"203139564983-9gd9ebikj3pct8ptmkkt6r2atcf838qu.apps.googleusercontent.com",buttonText:"Login",onSuccess:a,onFailure:a}))}}]),t}(o.a.Component),Et=Object(g.b)(function(e){return{loading:e.userReducer.loading,error:e.userReducer.error,isAuthenticated:null!==e.userReducer.token,alreadyUser:e.userReducer.alreadyUser,authError:e.userReducer.authError}},function(e){return{signUp:function(t){return e(A(t))}}})(bt),yt=n(232),Ot=n.n(yt),St=n(383),Ct=n.n(St),jt=n(384),Nt=n.n(jt),kt=n(385),wt=n.n(kt),It=n(233),Lt=n.n(It);n(142);var At=Object(h.compose)(Object(g.b)(function(e){return{auth:e.firebaseReducer.auth,user:e.firebaseReducer.profile,sessionList:e.firestoreReducer.ordered.sessionList}},function(e){return Object(m.a)({},Object(h.bindActionCreators)(a,e))}),Object(f.firestoreConnect)([{collection:"sessionList"}]))(function(e){var t=e.sessionList;if(console.log("props",e),console.log("sessionList",e.sessionList),t){console.log("sessions",t);var n=t.map(function(t){console.log("mySessions",n),console.log("session",t),t.players.filter(function(n){return console.log("player",n),n.uid===e.auth.uid?o.a.createElement(B,{session:t}):o.a.createElement("p",null,"No Classes")})});return{sessions:t}}return o.a.createElement(oe,null)});var Tt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},n.handleChange=function(e,t){n.setState({value:t})},n.handleChangeIndex=function(e){n.setState({value:e})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme;return o.a.createElement("div",{className:t.root},o.a.createElement(Nt.a,{position:"static",color:"default"},o.a.createElement(wt.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},o.a.createElement(Lt.a,{label:"All My Classes"}),o.a.createElement(Lt.a,{label:"Created By Me"}))),o.a.createElement(Ct.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},o.a.createElement(At,{dir:n.direction}),o.a.createElement(At,{dir:n.direction})))}}]),t}(o.a.Component),Rt=Object(H.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:500}}},{withTheme:!0})(Tt);var Dt=Object(h.compose)(Object(g.b)(function(e){return{auth:e.firebaseReducer.auth,user:e.firebaseReducer.profile}},function(e){return Object(m.a)({},Object(h.bindActionCreators)(a,e))}),Object(f.firestoreConnect)([{collection:"sessionList"}]))(function(e){return o.a.createElement("div",{className:Ot.a.Account},o.a.createElement("img",{alt:"",className:Ot.a.FaceImg,src:e.user.photoURL}),o.a.createElement("p",null,"First Name: ",e.user.firstName),o.a.createElement("p",null,"Last Name: ",e.user.lastName),o.a.createElement("p",null,"Phone: ",e.user.phone),o.a.createElement("p",null,"Email: ",e.auth.email),o.a.createElement("p",null,"Birthday: ",e.user.birthDay),o.a.createElement(Rt,null))}),xt=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return o.a.createElement(at.a,{to:"/"})}}]),t}(r.Component);var Ut=Object(g.b)(null,function(e){return Object(m.a)({},Object(h.bindActionCreators)(a,e))})(xt),Bt=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(tt,null,o.a.createElement(ke.a,null,o.a.createElement(we.a,{path:"/login",exact:!0,component:mt}),o.a.createElement(we.a,{path:"/register",exact:!0,component:Et}),o.a.createElement(we.a,{path:"/logout",exact:!0,component:Ut}),o.a.createElement(we.a,{path:"/account",exact:!0,component:Dt}),o.a.createElement(we.a,{path:"/",exact:!0,component:Ne}),o.a.createElement(we.a,{path:"/contact",exact:!0,component:nt}),o.a.createElement(we.a,{path:"/classinfo",exact:!0,component:ne}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(798);var Ft=n(837),Vt=n(386),Pt=n(387),Ht=n(157),zt={sessionList:[],sessionInfoToggle:!1,session:{},inClass:!1,shareDialogOpen:!1,signOutDialogOpen:!1},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEW_SESSION":return Object(m.a)({},e,{toggleDialogShare:!e.toggleDialogShare,sessionList:t.payload});case"ADD_NEW_SESSION_ERROR":return Object(m.a)({},e,{err:t.err});case"UPDATE_PLAYERS_IN_SESSION":return e;case"REMOVE_PLAYER_FROM_SESSION":return Object(m.a)({},e,{session:t.session});case"DELETE":return e;case"TOGGLE_INFO":return Object(m.a)({},e,{sessionInfoToggle:!e.sessionInfoToggle,session:t.payload});case"SHARE_DIALOG_OPEN":return Object(m.a)({},e,{shareDialogOpen:!e.shareDialogOpen,session:t.payload});case"SIGN_OUT_DIALOG_OPEN":return Object(m.a)({},e,{signOutDialogOpen:!e.signOutDialogOpen,session:t.payload});case"BOOKED":return Object(m.a)({},e,{inClass:!e.inClass});default:return e}},qt={type:"player",firstName:"Ilya",lastName:"Radu",emailName:"radu@gmail.com",token:null,refreshToken:null,userId:null,avatar:"https://randomuser.me/api/portraits/men/97.jpg",mobile:"123456",created:{type:Date,default:Date.now},error:null,loading:!1,alreadyUser:!1,authError:null},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return e;case"AUTH_START":return Object(m.a)({},e,{error:null,loading:!0});case"AUTH_SUCCESS":return Object(m.a)({},e,{token:t.idToken,refreshToken:t.refreshToken,userId:t.userId,email:t.email,password:t.password,error:null,loading:!1});case"AUTH_FAIL":return Object(m.a)({},e,{error:t.error,loading:!1});case"AUTH_LOGOUT":return Object(m.a)({},e,{token:null,refreshToken:null,usetId:null});case"LOGIN_ERROR":return console.log(t.err.message),Object(m.a)({},e,{authError:t.err.message});case"LOGIN_SUCCESS":return console.log("login success"),{authError:null};case"SIGNUP_ERROR":return console.log(t.err.message),Object(m.a)({},e,{authError:t.err.message});case"SIGNUP_SUCCESS":return console.log("login success"),{authError:null};case"SIGN_OUT":return console.log("signout success"),e;default:return e}},Kt=Object(h.createStore)(Object(h.combineReducers)({sessionReducer:Gt,userReducer:Yt,firestoreReducer:Ht.firestoreReducer,firebaseReducer:f.firebaseReducer}),Object(Pt.composeWithDevTools)(Object(h.applyMiddleware)(Vt.a.withExtraArgument({getFirebase:f.getFirebase,getFirestore:Ht.getFirestore})),Object(Ht.reduxFirestore)(ht.a),Object(f.reactReduxFirebase)(ht.a,{useFirestoreForProfile:!0,userProfile:"users"})));l.a.render(o.a.createElement(g.a,{store:Kt},o.a.createElement(Ft.a,null,o.a.createElement(Bt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[388,2,1]]]);
//# sourceMappingURL=main.3c450dcb.chunk.js.map